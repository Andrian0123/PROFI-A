package ru.profia.app.data.reference

/**
 * Справочник видов работ по папкам: Внутренние работы и Наружные работы.
 * В каждой папке — группы (подпапки) с видами работ и средней стоимостью (2026 г.).
 */
data class WorkItem(
    val name: String,
    val unit: String,
    val priceMin: Int,
    val priceMax: Int,
    val note: String? = null
) {
    val priceAvg: Int get() = (priceMin + priceMax) / 2
}

data class WorkGroup(
    val title: String,
    val items: List<WorkItem>
)

/** Секция справочника: Внутренние или Наружные работы. */
data class WorkSection(
    val id: String,
    val title: String,
    val groups: List<WorkGroup>
)

object WorksReference {

    val sections: List<WorkSection> = listOf(
        WorkSection(
            id = "internal",
            title = "Внутренние работы",
            groups = listOf(
                WorkGroup(
                    title = "Внутренняя отделка",
                    items = listOf(
                        WorkItem("Штукатурка (стены, потолок)", "м²", 550, 1100),
                        WorkItem("Шпаклёвка (под покраску/обои)", "м²", 350, 600),
                        WorkItem("Грунтовка поверхностей", "м²", 50, 150),
                        WorkItem("Покраска (стены, потолок)", "м²", 300, 700),
                        WorkItem("Оклейка обоями (стены, потолок)", "м²", 400, 800),
                        WorkItem("Укладка плитки (стены, пол)", "м²", 1300, 2800),
                        WorkItem("Укладка керамогранита", "м²", 1500, 3000),
                        WorkItem("Декоративная штукатурка (венецианская, короед и др.)", "м²", 1200, 3000),
                        WorkItem("Облицовка плиткой мозаикой", "м²", 1800, 3500),
                        WorkItem("Монтаж стеновых панелей (МДФ, ПВХ, ламинированные)", "м²", 600, 1200),
                        WorkItem("Натяжной потолок", "м²", 700, 1500),
                        WorkItem("Подвесной потолок из ГКЛ", "м²", 650, 1200),
                        WorkItem("Монтаж плинтусов (напольных, потолочных)", "м.п.", 120, 400),
                        WorkItem("Отделка откосов (штукатурка, панели)", "м.п.", 800, 1800),
                        WorkItem("Укладка ламината", "м²", 400, 900),
                        WorkItem("Укладка паркета / инженерной доски", "м²", 800, 1800),
                        WorkItem("Укладка линолеума", "м²", 300, 600),
                        WorkItem("Укладка кварц-винила", "м²", 550, 1200),
                        WorkItem("Стяжка пола", "м²", 700, 1300, "работа"),
                        WorkItem("Демонтаж отделки", "м²", 150, 500)
                    )
                ),
                WorkGroup(
                    title = "Потолок",
                    items = listOf(
                        WorkItem("Штукатурка потолка", "м²", 550, 950),
                        WorkItem("Шпаклёвка потолка под покраску", "м²", 350, 600),
                        WorkItem("Покраска потолка (водоэмульсионная)", "м²", 250, 450),
                        WorkItem("Оклейка потолка обоями", "м²", 400, 700),
                        WorkItem("Подвесной потолок из ГКЛ", "м²", 650, 1200),
                        WorkItem("Натяжной потолок (матовый/глянцевый)", "м²", 700, 1500),
                        WorkItem("Монтаж потолочного плинтуса", "м.п.", 120, 250),
                        WorkItem("Грунтовка потолка", "м²", 50, 120),
                        WorkItem("Демонтаж подвесного потолка", "м²", 200, 400)
                    )
                ),
                WorkGroup(
                    title = "Стены",
                    items = listOf(
                        WorkItem("Демонтаж стен/перегородок", "м²", 500, 1200),
                        WorkItem("Штукатурка стен по маякам", "м²", 650, 1100),
                        WorkItem("Шпаклёвка стен под покраску/обои", "м²", 350, 600),
                        WorkItem("Грунтовка стен", "м²", 50, 150),
                        WorkItem("Монтаж перегородок из ГКЛ", "м²", 900, 1600),
                        WorkItem("Оклейка стен обоями", "м²", 400, 800),
                        WorkItem("Покраска стен", "м²", 400, 700),
                        WorkItem("Декоративная штукатурка", "м²", 1200, 3000),
                        WorkItem("Облицовка стен плиткой (керамогранит/керамика)", "м²", 1500, 2800),
                        WorkItem("Монтаж стеновых панелей (МДФ/ПВХ)", "м²", 600, 1200),
                        WorkItem("Укладка плитки мозаикой", "м²", 1800, 3500)
                    )
                ),
                WorkGroup(
                    title = "Пол",
                    items = listOf(
                        WorkItem("Стяжка пола (полусухая/мокрая)", "м²", 700, 1300, "работа"),
                        WorkItem("Укладка ламината (подложка + покрытие)", "м²", 400, 900),
                        WorkItem("Укладка паркетной/инженерной доски", "м²", 800, 1800),
                        WorkItem("Укладка кварц-винила (плитка/ламинат)", "м²", 550, 1200),
                        WorkItem("Укладка керамической плитки (пол)", "м²", 1300, 2500),
                        WorkItem("Укладка линолеума", "м²", 300, 600),
                        WorkItem("Монтаж тёплого пола (электрический/водяной)", "м²", 1200, 2500),
                        WorkItem("Монтаж плинтусов напольных", "м.п.", 150, 400),
                        WorkItem("Шлифовка паркета", "м²", 400, 800),
                        WorkItem("Циклёвка паркета", "м²", 350, 700),
                        WorkItem("Демонтаж напольного покрытия", "м²", 150, 350)
                    )
                ),
                WorkGroup(
                    title = "Двери",
                    items = listOf(
                        WorkItem("Установка межкомнатной двери (готовый проём)", "шт.", 4500, 7500),
                        WorkItem("Установка входной двери (в квартиру)", "шт.", 15000, 25000),
                        WorkItem("Отделка откосов дверей (штукатурка/панели)", "м.п.", 800, 1800),
                        WorkItem("Демонтаж двери", "шт.", 500, 1500),
                        WorkItem("Врезка замка/ручки", "шт.", 1500, 3500),
                        WorkItem("Установка доборов", "м.п.", 400, 900)
                    )
                ),
                WorkGroup(
                    title = "Окна",
                    items = listOf(
                        WorkItem("Установка пластикового окна (в готовый проём)", "шт.", 4500, 9000),
                        WorkItem("Отделка откосов окон", "м.п.", 800, 1800),
                        WorkItem("Установка подоконника", "м.п.", 1200, 2500),
                        WorkItem("Регулировка створок окна", "шт.", 500, 1200),
                        WorkItem("Замена уплотнителя", "м.п.", 150, 350)
                    )
                ),
                WorkGroup(
                    title = "Сантехника",
                    items = listOf(
                        WorkItem("Монтаж системы водоснабжения (разводка труб)", "м.п.", 550, 900),
                        WorkItem("Монтаж канализации (трубы)", "м.п.", 500, 900),
                        WorkItem("Установка унитаза", "шт.", 2200, 4000),
                        WorkItem("Установка раковины", "шт.", 1800, 3500),
                        WorkItem("Установка ванны", "шт.", 4500, 9000),
                        WorkItem("Установка душевой кабины", "шт.", 5000, 12000),
                        WorkItem("Установка смесителя", "шт.", 1200, 2500),
                        WorkItem("Установка полотенцесушителя", "шт.", 2500, 5000),
                        WorkItem("Установка счётчиков воды", "шт.", 1500, 3000),
                        WorkItem("Прочистка засора", "шт.", 1500, 3500)
                    )
                ),
                WorkGroup(
                    title = "Электрика",
                    items = listOf(
                        WorkItem("Монтаж электропроводки (штробы + кабель)", "м² площади", 900, 1200),
                        WorkItem("Установка розеток/выключателей", "точка", 400, 1000),
                        WorkItem("Монтаж щитка (учёт + автоматы)", "шт.", 3500, 8000),
                        WorkItem("Установка люстры/светильников", "шт.", 800, 2500),
                        WorkItem("Монтаж тёплого пола (электрический)", "м²", 1200, 2000),
                        WorkItem("Прокладка кабеля в гофре открыто", "м.п.", 150, 350),
                        WorkItem("Замена проводки в квартире (под ключ)", "м²", 1200, 1800)
                    )
                ),
                WorkGroup(
                    title = "Вентиляция",
                    items = listOf(
                        WorkItem("Монтаж вентиляционного короба", "м.п.", 400, 800),
                        WorkItem("Установка вытяжки (кухня)", "шт.", 2500, 5500),
                        WorkItem("Установка клапана приточной вентиляции", "шт.", 3500, 7000),
                        WorkItem("Прочистка вентиляционных каналов", "шт.", 1500, 3500)
                    )
                ),
                WorkGroup(
                    title = "Прочие внутренние работы",
                    items = listOf(
                        WorkItem("Монтаж кухонного гарнитура", "м.п.", 1800, 3500),
                        WorkItem("Демонтаж перегородок/конструкций", "м²", 400, 1000),
                        WorkItem("Строительная уборка после ремонта", "м²", 150, 350),
                        WorkItem("Вывоз строительного мусора", "м³", 1200, 2500),
                        WorkItem("Грунтовка поверхностей", "м²", 50, 120),
                        WorkItem("Установка кондиционера", "шт.", 5000, 12000)
                    )
                )
            )
        ),
        WorkSection(
            id = "external",
            title = "Наружные работы",
            groups = listOf(
                WorkGroup(
                    title = "Уличные работы",
                    items = listOf(
                        WorkItem("Штукатурка фасада (короед, камешковая)", "м²", 1800, 2500),
                        WorkItem("Покраска фасада (с подготовкой)", "м²", 1600, 2000),
                        WorkItem("Монтаж сайдинга (винил, металл)", "м²", 900, 1600, "работа"),
                        WorkItem("Облицовка фасада кирпичом", "м²", 2500, 4500, "работа + материал"),
                        WorkItem("Облицовка фасада плиткой / керамогранитом", "м²", 2500, 4000),
                        WorkItem("Утепление фасада (минвата, пенопласт + отделка)", "м²", 2800, 4500, "под ключ"),
                        WorkItem("Гидрофобизация фасада", "м²", 350, 600),
                        WorkItem("Ремонт швов кладки (расшивка)", "м.п.", 200, 450),
                        WorkItem("Монтаж металлочерепицы", "м²", 450, 800),
                        WorkItem("Монтаж мягкой кровли (гибкая черепица)", "м²", 500, 900),
                        WorkItem("Гидроизоляция кровли", "м²", 350, 700),
                        WorkItem("Утепление кровли", "м²", 400, 800),
                        WorkItem("Монтаж / замена водостока", "м.п.", 650, 1000),
                        WorkItem("Устройство отмостки (бетон)", "м²", 1200, 2000),
                        WorkItem("Отделка цоколя (плитка, камень)", "м²", 1800, 3500),
                        WorkItem("Гидроизоляция цоколя", "м²", 500, 1000),
                        WorkItem("Установка отливов на окна", "м.п.", 400, 800),
                        WorkItem("Установка козырька над входом", "шт.", 8000, 20000),
                        WorkItem("Установка забора (металл, профлист, дерево)", "м.п.", 2500, 6000),
                        WorkItem("Укладка тротуарной плитки / брусчатки", "м²", 1200, 2500),
                        WorkItem("Монтаж наружного освещения", "точка", 1500, 4000),
                        WorkItem("Демонтаж наружных конструкций", "шт.", 2000, 6000)
                    )
                ),
                WorkGroup(
                    title = "Фасад и наружная отделка",
                    items = listOf(
                        WorkItem("Облицовка фасада кирпичом (лицевой кирпич)", "м²", 2500, 4500, "работа + материал"),
                        WorkItem("Штукатурка фасада «Короед» (без утепления)", "м²", 1800, 2500),
                        WorkItem("Монтаж сайдинга (винил/металл)", "м²", 900, 1600, "работа"),
                        WorkItem("Облицовка фасада керамогранитом/плиткой", "м²", 2500, 4000),
                        WorkItem("Утепление фасада (минвата/пенопласт + отделка)", "м²", 2800, 4500, "под ключ"),
                        WorkItem("Окраска фасада (с подготовкой)", "м²", 1600, 2000),
                        WorkItem("Гидрофобизация фасада", "м²", 350, 600),
                        WorkItem("Ремонт швов кладки (расшивка)", "м.п.", 200, 450)
                    )
                ),
                WorkGroup(
                    title = "Окна и двери (наружные)",
                    items = listOf(
                        WorkItem("Замена окон ПВХ (стандарт, двухстворчатое)", "окно", 17850, 21000, "под ключ"),
                        WorkItem("Замена входной двери (металлическая)", "шт.", 24000, 30000, "под ключ"),
                        WorkItem("Отделка наружных откосов", "м.п.", 800, 1800),
                        WorkItem("Установка отливов на окна", "м.п.", 400, 800),
                        WorkItem("Установка козырька над входом", "шт.", 8000, 20000)
                    )
                ),
                WorkGroup(
                    title = "Кровля",
                    items = listOf(
                        WorkItem("Монтаж металлочерепицы", "м²", 450, 800),
                        WorkItem("Монтаж мягкой кровли (гибкая черепица)", "м²", 500, 900),
                        WorkItem("Ремонт кровли (замена участка)", "м²", 600, 1200),
                        WorkItem("Утепление кровли", "м²", 400, 800),
                        WorkItem("Гидроизоляция кровли", "м²", 350, 700),
                        WorkItem("Монтаж снегозадержателей", "м.п.", 500, 1200)
                    )
                ),
                WorkGroup(
                    title = "Водосточная система",
                    items = listOf(
                        WorkItem("Монтаж/замена водосточной системы", "м.п.", 650, 1000),
                        WorkItem("Ремонт водостока", "м.п.", 400, 800),
                        WorkItem("Установка водосборной воронки", "шт.", 1500, 3000)
                    )
                ),
                WorkGroup(
                    title = "Отмостка и цоколь",
                    items = listOf(
                        WorkItem("Устройство отмостки (бетон)", "м²", 1200, 2000),
                        WorkItem("Отделка цоколя плиткой/камнем", "м²", 1800, 3500),
                        WorkItem("Гидроизоляция цоколя", "м²", 500, 1000),
                        WorkItem("Утепление цоколя", "м²", 600, 1200)
                    )
                ),
                WorkGroup(
                    title = "Наружные инженерные и прочее",
                    items = listOf(
                        WorkItem("Прокладка наружного водопровода/канализации", "м.п.", 800, 1500),
                        WorkItem("Монтаж наружного освещения", "точка", 1500, 4000),
                        WorkItem("Установка забора (секция)", "м.п.", 2500, 6000),
                        WorkItem("Устройство отмостки с утеплением", "м²", 1500, 2500),
                        WorkItem("Демонтаж старых конструкций (навесы, козырьки)", "шт.", 2000, 6000)
                    )
                )
            )
        )
    )

    /** Для обратной совместимости: все группы подряд (сначала внутренние, потом наружные). */
    val groups: List<WorkGroup> = sections.flatMap { it.groups }

    /** Уникальные названия видов работ в порядке первого появления (для маппинга на строковые ресурсы work_name_1, work_name_2, … при экспорте). */
    val orderedUniqueWorkNames: List<String> by lazy {
        val seen = mutableSetOf<String>()
        sections.flatMap { it.groups.flatMap { g -> g.items.map { it.name } } }.filter { seen.add(it) }
    }

    /** Текст примечания по ценам для отображения внизу экрана. */
    val priceDisclaimerLines: List<String> = listOf(
        "Регион: в Москве работы могут быть на 20–25% дороже, чем в среднем по РФ.",
        "Объём: мелкие работы часто оплачиваются по более высокой ставке, чем большой объём.",
        "Кризис-фактор 2026: возможен рост стоимости работ на 10–25% в течение года."
    )
}
