# Единый статус задач PROFI-A (canonical)

**Дата актуализации:** 20.02.2026  
**Источник:** объединение отчётов; стратегия — PROFI-A Future-Generation Strategy (горизонты A/B/C).

Этот документ — **единственный источник истины** по статусу задач. Остальные отчёты (`ОТЧЁТ_ВЫПОЛНЕННЫХ_ЗАДАЧ.md`, `ОТЧЁТ_НЕВЫПОЛНЕННЫХ_ЗАДАЧ.md`, `docs/ОТЧЁТ_ЧЕГО_НЕ_ХВАТАЕТ.md`, `ОТЧЁТ_ЗАДАЧИ.md`, `ОТЧЁТ_ПОЛНОЙ_ПРОВЕРКИ_ПРОЕКТА_2026-02-18.md`) считаются снимками на дату создания; при расхождении приоритет у данного файла.

---

## Выполнено (ядро продукта)

- **Auth и аккаунт:** login/register через API с сохранением сессии в DataStore; смена пароля, 2FA, удаление аккаунта через API с заголовком Authorization; выход (logout) с очисткой сессии; сплэш переходит на HOME при наличии сессии (20.02.2026).
- **Комната (AddRoomScreen):** виды работ по разделам, редактирование позиций, подстановка площадей (потолок/стены/пол), единицы измерения, общая сумма комнаты, калькулятор в шапке, загрузка 3D-файла (meshPath), подстановка площади пола из 3D-скана.
- **Смета:** разбивка по помещениям, предварительная и итоговая смета, «Поделиться» (PDF/CSV), создание промежуточной сметы (выбор позиций → акт).
- **Акты:** список по проекту, просмотр, редактирование позиций в акте, экспорт PDF/CSV.
- **КС-2/КС-3:** блок в профиле для ИП/ООО, формирование PDF/CSV с реквизитами и данными акта.
- **Экспорт:** EstimateExport, Ks2Ks3Export, FileProvider, данные заказчика/исполнителя в PDF/CSV.
- **БД:** проекты, комнаты, виды работ, акты (миграции 3→4, 4→5), RoomScan (сущность, DAO, экран).
- **Шаблоны работ:** WorkTemplate (DataStore), WorkCategoryScreen, подстановка в комнату по разделам.
- **Локализация:** RU/EN и др.; часть строк сметы/актов/диалогов в ресурсах.
- **Горизонт A (20.02.2026):** цветовые токены — единый source-of-truth в `Color.kt`, `colors.xml` синхронизирован с палитрой (тёмный оливковый/тёмно-зелёный).

---

## Открытые задачи (по приоритету)

### Критичный (Горизонт B)

| Блок | Что не сделано | Файлы |
|------|----------------|-------|
| 3D-сканирование | E2E: экран отметки участков на плане, визуализация coverage/missing_zones, полная автоподстановка размеров | RoomScanScreen.kt, ScanProcessingApi.kt |
| Reset password | Сброс пароля по email/ссылке (backend + экран) | — |

### Средний приоритет

| Блок | Что не сделано | Файлы |
|------|----------------|-------|
| Поддержка | Backend endpoint вместо только mailto | SupportScreen.kt |
| Виды работ | Вкладки «Общие данные», «Материалы» — реальный контент вместо placeholder | AddWorkTypesScreen.kt |
| Этапы | Реальный контент вместо catalog_placeholder | StagesScreen.kt |
| Локализация | Вынести оставшиеся hardcoded строки в strings.xml (ProfileScreen, AddRoomScreen, SupportScreen, AboutScreen и др.) | несколько экранов |

### Низкий приоритет

| Блок | Что не сделано |
|------|----------------|
| Документация | Рассинхрон отчётов устранён данным canonical-документом |
| UX/доступность | contentDescription, подписи — унификация и локализация |

---

## Сборка и качество

- **Цвета:** все UI-цвета из токенов темы (`Color.kt` → MaterialTheme / XML). Прямые хексы в экранах запрещены (Quality Gate).
- **Сборка:** при наличии JAVA_HOME выполнять `gradlew assembleDebug`; предупреждения kapt/Dagger/Room не блокируют, если компиляция успешна. Baseline предупреждений — по необходимости.

---

## Ссылки на отчёты (исторические)

- Выполненные: `ОТЧЁТ_ВЫПОЛНЕННЫХ_ЗАДАЧ.md`, `ОТЧЁТ_ЗАДАЧИ.md`
- Невыполненные: `ОТЧЁТ_НЕВЫПОЛНЕННЫХ_ЗАДАЧ.md`, `docs/ОТЧЁТ_ЧЕГО_НЕ_ХВАТАЕТ.md`
- Проверка: `ОТЧЁТ_ПОЛНОЙ_ПРОВЕРКИ_ПРОЕКТА_2026-02-18.md`

Обновления статуса вносить в этот файл; при крупных релизах можно обновить и остальные отчёты по нему.
