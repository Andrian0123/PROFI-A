# Что осталось доделать для публикации PROFI-A

Дата: 21.02.2026

Ниже — два сценария: **раздача друзьям** (минимум) и **публикация в Google Play**.

---

## Вариант 1: Публикация «для друзей» (Google Drive / раздача по ссылке)

Цель: собрать APK и дать ссылку на установку.

### Что уже готово

- Сборка debug-APK: скрипты `СБОРКА_ПРИЛОЖЕНИЯ.ps1` / `.bat`, путь `app/build/outputs/apk/debug/app-debug.apk`.
- Инструкция: `docs/ЗАГРУЗКА_НА_GOOGLE_DRIVE.md` (сборка, загрузка на Drive, доступ по ссылке, инструкция для друзей).

### Что осталось сделать

| Шаг | Действие |
|-----|----------|
| 1 | ✅ Проект собирается; APK подготовлен в папке **для_загрузки** (PROFI-A-1.0.0-debug.apk). |
| 2 | Загрузить APK из `для_загрузки` в папку на Google Drive. |
| 3 | Выдать доступ по ссылке («Все, у кого есть ссылка»), скопировать ссылку. |
| 4 | Отправить друзьям ссылку и короткую инструкцию по установке (разрешить установку из неизвестных источников и т.д. — см. п. 4 в `ЗАГРУЗКА_НА_GOOGLE_DRIVE.md`). |

**Итог:** для раздачи друзьям **ничего критичного по коду доделывать не нужно** — достаточно успешной сборки и выполнения шагов выше.

---

## Вариант 2: Публикация в Google Play

Цель: выложить приложение в магазин для всех пользователей.

### Обязательные шаги (без этого не опубликуете)

| № | Что сделать | Где подробнее |
|---|-------------|----------------|
| 1 | **Аккаунт разработчика Google Play** — $25 единоразово, активация 1–2 дня. | `регистрация сервисов/ПОШАГОВАЯ_РЕГИСТРАЦИЯ_И_ССЫЛКИ.md`, Play Console |
| 2 | **Подпись release** — создать keystore, прописать `signingConfigs` и `buildTypes.release.signingConfig` в `app/build.gradle.kts`, собрать `assembleRelease`. | `docs/ЗАГРУЗКА_НА_GOOGLE_DRIVE.md` (вариант B) |
| 3 | **Листинг в Play Console:** название, краткое и полное описание, скриншоты, иконка, категория. Тексты с дисклеймером — в `docs/ТЕКСТЫ_ДЛЯ_МАГАЗИНА_И_САЙТА.md`. | Play Console → Store listing |
| 4 | **Политика конфиденциальности и пользовательское соглашение** — в карточке приложения нужны **URL** на документы (часто требуют доступ без установки приложения, т.е. на сайте). Тексты есть в приложении (`legal_strings.xml`); для Play лучше выложить те же тексты на страницу сайта и указать ссылки. | `docs/ПЛАН_ОГРАНИЧЕНИЯ_ОТВЕТСТВЕННОСТИ.md` (п. 2.4), `docs/ТЕКСТЫ_ДЛЯ_МАГАЗИНА_И_САЙТА.md` |
| 5 | **Контент-рейтинг, целевая аудитория, реклама (есть/нет)** — заполнить анкеты в Play Console. | Play Console |
| 6 | **Тестирование** — внутреннее/закрытое тестирование, затем продвижение в продакшен. | Play Console → Testing |

### Рекомендуется перед первой публикацией

- В описании в Google Play явно указать: приложение — вспомогательный инструмент, сметы ориентировочные, ответственность за решения несёт пользователь (формулировки в `docs/ТЕКСТЫ_ДЛЯ_МАГАЗИНА_И_САЙТА.md`).
- При наличии сайта — выложить туда Политику конфиденциальности и Пользовательское соглашение и дать их URL в карточке приложения.

### Что из «открытых задач» не блокирует первую публикацию

По `docs/STATUS_ЗАДАЧ_CANONICAL.md` и `ОТЧЁТ_НЕВЫПОЛНЕННЫХ_ЗАДАЧ.md`:

- **3D-сканирование:** экран отметки участков на плане и полная визуализация web_lines/missing_zones — можно выпустить версию без этого и добавить в обновлении.
- **Локализация:** оставшиеся hardcoded в ProfileScreen и др. — не блокер; базовая локализация (RU/EN, секции AddRoomScreen, About, Works) уже есть.
- **Документация статусов, доработки contentDescription** — низкий приоритет, на публикацию не влияют.

То есть **можно публиковать текущую сборку**, если пройдены обязательные шаги выше (аккаунт, подпись, листинг, ссылки на политику/соглашение).

### Подписки (если нужны в первой версии)

- В приложении уже есть Google Play Billing; при пустом `VERIFICATION_SERVER_URL` подписка активируется по ответу с устройства.
- В Play Console нужно создать подписки (Product ID: `profi_a_sub_1`, `profi_a_sub_6`, `profi_a_sub_12` и т.д. по вашему плану).
- Для продакшена позже можно включить сервер верификации и `VERIFICATION_SERVER_URL` — см. `docs/SUBSCRIPTION_BILLING.md`, `docs/БЕСПЛАТНЫЕ_СЕРВИСЫ_ДЛЯ_ТЕСТИРОВАНИЯ.md`.

---

## Краткая сводка

| Цель | Осталось доделать |
|-----|--------------------|
| **Раздача друзьям (Drive)** | Только собрать APK, загрузить на Drive, выдать ссылку и инструкцию. Код готов. |
| **Публикация в Google Play** | Аккаунт $25, release-подпись, листинг (описание, скриншоты, ссылки на политику/соглашение), контент-рейтинг и тесты. Открытые задачи по 3D и локализации первую публикацию не блокируют. |

Единый статус задач по продукту: **`docs/STATUS_ЗАДАЧ_CANONICAL.md`**.
