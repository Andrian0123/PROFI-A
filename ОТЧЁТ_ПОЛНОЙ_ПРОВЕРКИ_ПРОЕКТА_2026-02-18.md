# Полная проверка проекта PROFI-A

Дата: 18.02.2026

## 1) Что проверено

- Отчеты в корне и в `docs/`
- Фактическая реализация в ключевых экранах и навигации
- Наличие файлов, заявленных как созданные/измененные
- Ресурсы и локализации (`res/values*`)
- Признаки незавершенности: `TODO`, placeholder-экраны, dev/coming-soon сообщения

---

## 2) Сводка по статусу

- Подтверждено выполненных задач из отчетов: **34**
- Не выполнено из ранее заявленных задач: **2**
- Дополнительно выявленные незавершенные элементы (по коду): **9**
- Недостающих ключевых файлов из отчетов: **не обнаружено**
- Проблема в документации: **1 дубликат/рассинхрон отчета**

---

## 3) Подтверждено как выполнено

Ниже перечислены основные блоки, которые реально есть в коде и работают по целям отчетов:

- Экран комнаты (`AddRoomScreen`): категории работ, шаблоны, подстановка площадей, расчет суммы, редактирование позиций
- Общая/итоговая смета (`GeneralEstimateScreen`): структура по комнатам, экспорт PDF/CSV, промежуточная смета
- Акты (`ActsScreen`): просмотр, редактирование, экспорт
- КС-2/КС-3 (`FormKs2Ks3Screen` + экспорт): формирование PDF/CSV
- БД и миграции актов: сущности, DAO, миграции `3->4`, `4->5`
- 3D-база сканирования: `RoomScanEntity`, `RoomScanDao`, `RoomScanScreen` присутствуют
- Локализация: RU/EN/RO/UZ/DE/TG/KK добавлены и синхронизированы по количеству строк

---

## 4) Невыполненные задачи (по факту)

### 4.1 Не выполнено из ранее заявленных

1. Подпись на экране проекта  
   Ожидаемо: текст о том, что комнаты/сметы/акты формируются индивидуально по проекту.  
   Факт: в `ProjectDetailScreen` этого текста нет.

2. Явное отключение нижней панели калькулятора в навигации  
   Факт: явного `bottomBar = {}` в `ProfiANavHost` нет (в текущей архитектуре это не блокер, но пункт из отчета формально не подтвержден).

### 4.2 Дополнительно найдено как незавершенное

1. `AuthScreen`: кнопки "Войти" и "Зарегистрироваться" ведут в один `onAuthComplete`, без реального API-цикла логина/регистрации.
2. `ChangePasswordScreen`: локальная форма и демо-логика, без backend смены/сброса пароля.
3. `ProfileScreen`: удаление аккаунта и 2FA остаются dev-сценариями (snackbar/заглушка).
4. `RoomScanScreen`: есть `TODO` для экрана "отметки участков на плане".
5. `SupportScreen`: отправка обращения через `Intent` почтового клиента, без backend endpoint.
6. `AddWorkTypesScreen`: вкладки `GeneralDataPlaceholder()` и `MaterialsPlaceholder()` остаются заглушками.
7. `StagesScreen`: используется `catalog_placeholder` (контент не реализован).
8. Сетевой слой приложения ограничен в основном верификацией подписки; полноценного API-слоя для auth/account/support/scan нет.
9. Значительная часть UI-текстов на ключевых экранах еще захардкожена в Kotlin (часть уже вынесена, но не полностью).

---

## 5) Проверка файлов

Проверены файлы, заявленные как "созданные/измененные" в отчетах:

- Экспорт: `EstimateExport.kt`, `ExportUtils.kt`, `Ks2Ks3Export.kt` — есть
- Акты/БД: `IntermediateEstimateActEntity.kt`, `IntermediateEstimateActItemEntity.kt`, `IntermediateEstimateActDao.kt` — есть
- Экраны/VM: `ActsScreen.kt`, `FormKs2Ks3Screen.kt`, `ActsViewModel.kt`, `FormKs2Ks3ViewModel.kt` — есть
- Ресурс: `res/xml/file_paths.xml` — есть
- Тесты: `ExportUtilsTest.kt`, `IntermediateEstimateActItemEntityTest.kt`, `RoomWorkItemEntityTest.kt` — есть

Итог: **критичных отсутствующих файлов по отчетам не найдено**.

---

## 6) Проверка ресурсов и локализаций

Найдены языковые наборы:

- `values` (RU)
- `values-en`
- `values-ro`
- `values-uz`
- `values-de`
- `values-tg` (для TJ)
- `values-kk` (для KZ)

Проверка полноты ключей (`<string name=...>`):

- RU: 163
- EN: 163
- RO: 163
- UZ: 163
- DE: 163
- TG: 163
- KK: 163

Итог: базовая синхронизация по количеству строк **подтверждена**.

---

## 7) Несоответствия в отчетах/документации

1. `ОТЧЁТ_НЕВЫПОЛНЕННЫХ_ЗАДАЧ.md` показывает "0 невыполненных", но это не соответствует фактическому коду.
2. Обнаружен дубликат: `OTCHET_ZADACHI.md` и `ОТЧЁТ_ЗАДАЧИ.md` (возможен рассинхрон содержимого).

Рекомендация: оставить один "источник правды" для статусов задач.

---

## 8) Приоритеты исправления

### Высокий приоритет

- Реальный auth/account контур: login/register/change/reset/delete
- Завершение 3D-сканирования: убрать TODO, подключить backend обработку и автоподстановку размеров
- Привести отчеты задач к фактическому состоянию

### Средний приоритет

- Убрать placeholder-экраны в `AddWorkTypesScreen` и `StagesScreen`
- Подключить backend отправку поддержки (не только email intent)
- Довынести тексты из Kotlin в `strings.xml` для полной локализации

### Низкий приоритет

- Доработка UX-мелочей (доступность, единообразие contentDescription, косметика)

---

## 9) Финальный вывод

Проект находится в **рабочем состоянии по основной бизнес-логике смет/актов/экспорта и локальной БД**, но остается ряд **системно незавершенных продуктовых блоков** (auth/account backend, полный scan-flow, placeholder-разделы, часть локализации в коде).  

Главный риск сейчас: **документация о статусах задач отстает от фактического состояния кода**.
